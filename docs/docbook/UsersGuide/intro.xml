
<!--

<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

    Author:     Jason Novotny
    Version:    $Id$
-->

<chapter id="intro">
    <title>Introduction</title>
    <para>
    The GridSphere User's Guide describes how to install and configure GridSphere.
    For more information on developing and packaging portlets, please consult
    the GridSphere PortletReference Guide and the GridSphere Tutorials. The current
    implementation is based upon the GridSphere Technical Design Document. The GridSphere
    portal framework comes in both source and binary forms. Binaries can be created
    from the source code and in both cases, the build environment is generally
    the same. The GridSphere source code comes with a README file explaining how
    to build the binary distribution. Both source and binaries come packaged
    with all the necessary third party libraries and requires a GridSphere
    compatible servlet container, currently Tomcat 4.1+.

    </para>

    <sect1>
        <title>Required Tools and Applications</title>
        <itemizedlist>
        <listitem><para>JDK 1.3.1+ &JDK; or JRE if you don't need to build any
        source</para></listitem>
        <listitem><para>Jakarta Ant 1.5+ &Ant; is used to compile and deploy
        the GridSphere framework</para>
        </listitem>
        <listitem><para>Jakarta Tomcat Servlet Container &Tomcat; 4.1.18+ is
            required. (Currently, only Tomcat 4.1.18 fully supports the Manager web
            application that allows for dynamic portlet management.)
            (Make sure you get the full Tomcat version and not the Light Edition (LE))
        </para></listitem>
        </itemizedlist>
    </sect1>

    <sect1>
    	<title>Bundled Software Packages</title>
	<para>GridSphere uses many quality open source libraries listed below for completeness: It is not recommended to 
	replace the bundled libaries.
	</para>
	<itemizedlist>
	<listitem><para>&Castor; is used to provide Java to XML bindings and Java to SQL persistence</para></listitem>
	<listitem><para>&Castordoclets; is used to create Castor mappings from Javadoc tags</para></listitem>
    <listitem><para>&JUnit; provides a unit testing framework</para></listitem>
    <listitem><para>&Cactus; provides a unit testing framework for testing GridSphere in a servlet container</para></listitem>
    <listitem><para>&Log4J; provides an optimized logging library</para></listitem>
    <listitem><para>&HSQL; database provides a pure Java SQL database</para></listitem>
    <listitem><para>&Commons; utility classes for performing file uploads, etc.</para></listitem>
    <listitem><para>&Xalan; is used for XSLT processing</para></listitem>
    </itemizedlist>
   </sect1>
    
    <sect1>
    	<title>Installing Jakarta Ant</title>
	<para>In order to build the source distribution or deploy GridSphere to a Tomcat 
	servlet container, you will need to download Jakarta Ant. Ant is also used to run
	the unit tests.
	</para>
	<orderedlist>
	<listitem><para>Download &Ant; 1.5 distribution</para></listitem>
	<listitem><para>Unzip ant into your preferred location and set the ANT_HOME environment to point to this location</para></listitem>
	<listitem><para>Copy junit.jar from your GRIDSPHERE_HOME/lib into ANT_HOME/lib (only necessary if you want to run the tests)</para></listitem>
	<listitem><para>Add ANT_HOME/bin to your PATH environment</para></listitem>
	</orderedlist>
    </sect1>
    
    <sect1>
    	<title>Installing Jakarta Tomcat</title>
	<para>The Jakarta Tomcat servlet container is required to provide a hosting environment
	for the GridSphere framework.
	</para>
	<orderedlist>
	<listitem><para>Download Jakarta &Tomcat; 4.1.18 distribution</para></listitem>
	<listitem><para>Unzip tomcat into your preferred location and set the CATALINA_HOME environment to point to this location</para></listitem>
	<listitem><para>GridSphere requires access to the ServletContext objects of other portlet web applications.
	To allow this, modify $CATALINA_HOME/conf/server.xml and make sure the following line is there:
	<programlisting><literallayout>

    <![CDATA[<Context path="/gridsphere" docBase="gridsphere" debug="0" reloadable="false" crossContext="true">
                  <Logger className="org.apache.catalina.logger.FileLogger" prefix="localhost_gridsphere_log."
                          suffix=".txt" timestamp="true"/>
	         </Context>]]>

    <important>Make sure there are no line-breaks in the Logger line-- cutting and pasting into
    vi can cause problems ;-) and Tomcat may give few warnings</important>
    </literallayout></programlisting></para></listitem>
	<listitem><para>The Portlet Manager Portlet requires the Tomcat manager webapp to be configured. Modify
        <filename>$CATALINA_HOME/conf/tomcat-users.xml</filename> and make sure the following line is there:
	<programlisting><literallayout>

        <![CDATA[<user username="tomcat" password="tomcat" roles="tomcat,manager"/>]]>

    </literallayout></programlisting>
	</para>
	<para>To ensure that clients can't access the manager webapp directly, modify
        <filename>$CATALINA_HOME/conf.server.xml</filename>
	with the following where $CATALINA_HOME is replaced with the actual path to Tomcat:
	<programlisting><literallayout>

        <![CDATA[<Context path="/manager" debug="0" privileged="true"
                 docBase="$CATALINA_HOME/server/webapps/manager">
                 <Valve className="org.apache.catalina.valves.RemoteAddrValve"
                        allow="127.0.0.1"/>
        </Context>]]>
    <important>ditto above ;-)</important>
    </literallayout></programlisting></para></listitem>

	</orderedlist>
    </sect1>

</chapter>
