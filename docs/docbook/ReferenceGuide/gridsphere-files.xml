
<!--

<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

    Author:     Jason Novotny
    Version:    $Id$
-->

<chapter id="gridsphere-files">
    <title id="gridsphere-files-title">GridSphere Portal Specific Files</title>
  <para>
      The following shows the directory layout of the deployed gridsphere web application located in
      <filename>$CATALINA_HOME/webapps/gridsphere</filename>:
  </para>

   <itemizedlist>
    <listitem><para><filename>html</filename>  -- general GS HTML files</para></listitem>
    <listitem><para><filename>javascript/gridsphere.js</filename>  -- core GS javascript functions</para></listitem>
    <listitem><para><filename>jsp</filename>  -- core portlet JSP files</para></listitem>
    <listitem><para><filename>themes</filename> -- a theme consists of modifying CSS files and creating theme specific icons and gifs. See <filename>themes/default</filename> for an example</para> </listitem>

       <listitem><para><filename>WEB-INF</filename> -- directory containing GS configuration files and application descriptors</para>
               <itemizedlist>
                   <listitem><para><filename>GridSphereServices.xml</filename>  -- used to configure GS authentication modules. See next chapter for more details</para></listitem>
                   <listitem><para><filename>authmodules.xml</filename>  -- used to configure GS authentication modules. See next chapter for more details</para></listitem>
                   <listitem><para><filename>group.xml</filename>  -- Specifies core gridsphere group as "hidden", all users by definition are in gridsphere group.</para></listitem>
                   <listitem><para><filename>portlet.xml</filename>  -- GS core portlet descriptor</para></listitem>
                   <listitem><para><filename>layout.xml</filename>  -- defines the associated user layout for the gridsphere group. Gets copied over to
                   <filename>CustomPortal/layouts/groups/gridsphere.xml</filename> upon installation.</para></listitem>
                   <listitem><para><filename>classes</filename> -- contains localized properties files for core portlets and log4j.properties file. Modify this file to add/remove logging information.
                   </para></listitem>
                   <listitem><para><filename>lib</filename> -- contains gridsphere core portlets and tag library jar files
                   </para></listitem>
                   <listitem><para><filename>mappings</filename> -- contains all the mapping files used by &Castor; XML to unmarshal portlet, layout and other descriptors.
                   </para></listitem>
                   <listitem><para><filename>persistence</filename> -- contains all the persistence mapping files used by &Hibernate; to associate SQL tables with the referenced Java classes
                   </para></listitem>
                   <listitem><para><filename>test</filename> -- contains a couple fake descriptor files used for testing with &JUnit;
                   </para></listitem>
                   <listitem><para><filename>tlds</filename> -- contains the tag library descriptor files for both the UI tag library and JSR 168 portlet tag library
                   </para></listitem>
                   <listitem><para><filename>tmfconfig</filename> -- contains text messaging related configuration files
                   </para></listitem>

                   <listitem><para><filename>CustomPortal</filename> -- directory containing persisted GridSphere portal layouts, index of portlet webapps to be loaded and database</para>
                       <itemizedlist>
                            <listitem><para><filename>database</filename></para>
                                <itemizedlist>
                                    <listitem><para><filename>hibernate.properties</filename> -- the hibernate configuration file contains database settings for &HSQL; used as the default database. To use another database modify these settings</para></listitem>
                                    <listitem><para><filename>gridsphere.properties</filename> -- various SQL settings for the default &HSQL; database</para></listitem>
                                    <listitem><para><filename>gridsphere.script</filename> -- the actual flat file GS database used by &HSQL; the default SQL database provided</para></listitem>
                                </itemizedlist>
                            </listitem>

                       </itemizedlist>
                       <itemizedlist>
                            <listitem><para><filename>layouts</filename></para>
                                <itemizedlist>
                                    <listitem><para><filename>ErrorLayout.xml</filename> -- the error layout descriptor specifies a layout to be rendered in case a portal error occurs</para>
                            </listitem>
                                    <listitem><para><filename>TemplateLayout.xml</filename> -- specifies the template layout used for logged-in users. The final user's layout is constructed by rendering the template
                                        adn the included user layout if one exists and the group layouts for the groups the user is subscribed to.
                            GridSphere is started.</para>
                            </listitem>
                                    <listitem><para><filename>GuestUserLayout.xml</filename> -- specifies the layout used for guests (all non-logged in users). Modify this file to suit your needs.
                            GridSphere is started.</para>
                            </listitem>
                                    <listitem><para><filename>html</filename> -- directory containing customized banner and footer html pages
                            GridSphere is started.</para>
                            </listitem>
                                    <listitem><para><filename>users</filename> -- directory containing customized user layout descriptors
                            GridSphere is started.</para>
                            </listitem>
                                    <listitem><para><filename>groups</filename> -- directory containing group layout descriptors
                            GridSphere is started.</para>
                            </listitem>
                                </itemizedlist>
                            </listitem>

                       </itemizedlist>
                       <itemizedlist>
                            <listitem><para><filename>portlets</filename> -- directory containing names of portlet applications to load when
                            GridSphere is started.</para>
                            </listitem>

                       </itemizedlist>
                   </listitem>

               </itemizedlist>
       </listitem>

    </itemizedlist>


</chapter>