<!--

<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

    Author:     Jason Novotny
    Version:    $Id$
-->

<chapter id="portlet-layout">
    <title>Portlet Layout Framework</title>
    <para>
The Portal Layout components closely resemble the AWT/Swing components found in the standard Java classes.
The reason for this is twofold: One, to provide a very close API to create web based visual components easily
by anyone familiar with Java GUI development under AWT or Swing. The other reason is to follow the "Composite"
design pattern which allows for maximal flexibility in developing new layouts composed of various changing
components by composing objects, or portal components, into a tree based structure.
</para>
The following list describes the supported list of portlet componets.

PortletContainer -- This is the super class of all other components

PortletComponent -- An interface describing various portlet component features such as foreground, background color,
                    width, height, PortletBorder and PortletInsets.

BasePortletComponent -- Implements PortletComponent and extends PortletContainer. Provides a base portlet component
                        that other portlet components inherit from


PortletImage --  A simple widget to display images expressed as a file of JPEG, GIF, etc. format

PortletText -- Another simple widget to display text that is expressed as the name of a file to include

PortletPanel -- A panel contains a LayoutManager which is responsible for component layout

PortletGridLayout -- The grid layout lays components in a grid defined by the number and wiidth of columns

PortletTabbedPane -- A tabbed pane contains PortletTabs similar to Java Swing

PortletTab -- A portlet tab contains a PortletPanel which can contain additional components. This is generally
              where PortletFrames are placed

PortletFrame -- A Portletframe is a visual represntation of a portlet. It includes a title border and the classname
                of the portlet to invoke for rendering. (In the implementation, the PortletFrame gets an active portlet
                instance of the portlet class from the portlet registry service and invokes the service() method)


Every portlet component also provides the following three methods:

public void doRender(PortletContext ctx, PortletRequest req, PortletResponse res)
            throws PortletLayoutException, IOException;



During rendering, the PortletContainer which contains all the other components is traversed and the doRender()
method is invoked for each component. The doRender() method may optionally print HTML to an OutputStream
or it can include a JSP fragment responsible for the rendering of the component. This is done via the
PortletContext.include(jsp file, PortletRequest, PortletResponse) method.
If the rendering fails at any point a PortletLayoutException is thrown.

2. Specifying a Layout

The layout.xml file contains XML entries that describe the components and their properties. For instance a
PortletBorder can define a color, title and font like so:

<portlet-border>
    <title-color>#FFFFFF</title-color>
    <line-color>#336699</line-color>
    <font>Arial, Helvetica, sans-serif</font>
    <thickness>2</thickness>
</portlet-border>

By modifying/adding entries in the XML layout file, a new layout can be specified. To learn more about possible
attributes and component relationships, look at the layout-mapping.xml file. This defines the relationship between
the portlet component classes and the XML descriptions. Similary to create new components, create the class and add
the necessary information the layout.xml and layout-mapping.xml file.


</chapter>


